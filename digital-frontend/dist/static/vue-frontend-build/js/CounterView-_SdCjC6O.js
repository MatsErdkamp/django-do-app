import{_ as d,r as w,o as f,f as m,a as s,c as _,d as t,h as p,i as h,T as k,t as v}from"./index-DbE_alSt.js";const b={class:"counter-number"},S={__name:"CounterView",setup(g){const c=w(0);function a(){var o=window.location.protocol==="https:"?"wss:":"ws:",n=window.location.host;(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&(n="localhost:8000");var l="/ws/counter/",u=o+"//"+n+l;return new WebSocket(u)}let e=a();function r(){e.send(JSON.stringify({action:"increment"}))}function i(){e.send(JSON.stringify({action:"decrement"}))}return f(()=>{e.onopen=function(){console.log("WebSocket connected.")},e.onmessage=function(o){const n=JSON.parse(o.data);console.log(o.data),c.value=n.count},e.onerror=function(o){console.log("WebSocket Error: ",o)},e.onclose=function(o){console.log("WebSocket closed.")}}),m(()=>{e.close()}),(o,n)=>(s(),_("div",null,[t("div",b,[(s(),p(k,{key:c.value,name:"fade"},{default:h(()=>[t("h1",null,v(c.value),1)]),_:1}))]),t("div",{class:"counter-buttons"},[t("button",{onClick:r},"Increment"),t("button",{onClick:i},"Decrement")])]))}},W=d(S,[["__scopeId","data-v-183c5a4a"]]);export{W as default};
