import{_ as d,r as w,o as f,a as m,b as s,c as _,d as t,e as p,w as v,T as b,t as h}from"./index-CSBdWHBW.js";const k={class:"counter-number"},S={__name:"CounterView",setup(g){const c=w(0);function a(){var e=window.location.protocol==="https:"?"wss:":"ws:",n=window.location.host;(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&(n="localhost:8000");var l="/ws/counter/",u=e+"//"+n+l;return new WebSocket(u)}let o=a();function r(){o.send(JSON.stringify({action:"increment"}))}function i(){o.send(JSON.stringify({action:"decrement"}))}return f(()=>{o.onopen=function(){console.log("WebSocket connected.")},o.onmessage=function(e){const n=JSON.parse(e.data);c.value=n.count},o.onerror=function(e){console.log("WebSocket Error: ",e)},o.onclose=function(e){console.log("WebSocket closed.")}}),m(()=>{o.close()}),(e,n)=>(s(),_("div",null,[t("div",k,[(s(),p(b,{key:c.value,name:"fade"},{default:v(()=>[t("h1",null,h(c.value),1)]),_:1}))]),t("div",{class:"counter-buttons"},[t("button",{onClick:r},"Increment"),t("button",{onClick:i},"Decrement")])]))}},W=d(S,[["__scopeId","data-v-cb9aafaf"]]);export{W as default};
